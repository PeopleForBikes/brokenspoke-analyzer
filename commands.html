<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="about.html"><link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Regions" href="regions.html"><link rel="prev" title="How to analyze bicycle infrastructure" href="how-to/analyze-bike-infrastructure.html">

    <!-- Generated with Sphinx 9.1.0 and Furo 2025.12.19 -->
        <title>Commands - Brokenspoke Analyzer 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-foreground-primary: #8B8A8D;
  --color-foreground-secondary: #009EDB;
  --color-foreground-muted: #D71920;
  --color-foreground-border: #878787;
  --color-background-primary: #fcfaf6;
  --color-background-secondary: #fcfaf6;
  --color-background-hover: #effaffff;
  --color-background-hover--transparent: #effaff00;
  --color-background-border: #eeebee;
  --color-background-item: #ccc;
  --color-brand-primary: #009EDB;
  --color-brand-content: #8B8A8D;
  --font-stack: Montserrat, "Open Sans", Helvetica, Arial, sans-serif;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-primary: #8B8A8D;
  --color-foreground-secondary: #009EDB;
  --color-foreground-muted: #D71920;
  --color-foreground-border: 878787;
  --color-background-primary: #00263E;
  --color-background-secondary: #00263E;
  --color-background-hover: #1e2124ff;
  --color-background-hover--transparent: #1e212400;
  --color-background-border: #8B8A8D;
  --color-background-item: #ccc;
  --color-brand-primary: #009EDB;
  --color-brand-content: #009EDB;
  --font-stack: Montserrat, "Open Sans", Helvetica, Arial, sans-serif;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-primary: #8B8A8D;
  --color-foreground-secondary: #009EDB;
  --color-foreground-muted: #D71920;
  --color-foreground-border: 878787;
  --color-background-primary: #00263E;
  --color-background-secondary: #00263E;
  --color-background-hover: #1e2124ff;
  --color-background-hover--transparent: #1e212400;
  --color-background-border: #8B8A8D;
  --color-background-item: #ccc;
  --color-brand-primary: #009EDB;
  --color-brand-content: #009EDB;
  --font-stack: Montserrat, "Open Sans", Helvetica, Arial, sans-serif;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Brokenspoke Analyzer 3.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">Brokenspoke Analyzer 3.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">GENERAL:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TUTORIALS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Preparation Workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">HOW-TO GUIDES:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how-to/custom-input-files.html">How to use custom input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to/analyze-bike-infrastructure.html">How to analyze bicycle infrastructure</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">REFERENCE:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="regions.html">Regions</a></li>
<li class="toctree-l1"><a class="reference internal" href="shapefile-data-dictionary.html">Shapefile Data Dictionary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DEVELOPMENT:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html">Community Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/commands.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="commands">
<h1>Commands<a class="headerlink" href="#commands" title="Link to this heading">¶</a></h1>
<section id="general-information">
<h2>General information<a class="headerlink" href="#general-information" title="Link to this heading">¶</a></h2>
<p>Most of the commands require access to PostgreSQL/PostGIS. For this reason we
recommend setting the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable, even though it is
possible to specify it on the CLI. This will keep the commands shorter and
reduce the chance of error in the connection URL.</p>
<p>All the commands follow a very similar pattern, therefore they use almost all
the same parameters accross the board.</p>
</section>
<section id="environment-variables">
<h2>Environment variables<a class="headerlink" href="#environment-variables" title="Link to this heading">¶</a></h2>
<ul>
<li><p><strong>DATABASE_URL</strong>: Define the connection URL to the database.</p>
<p>For instance: <code class="docutils literal notranslate"><span class="pre">postgresql://postgres:postgres&#64;localhost:5432/postgres</span></code>.</p>
</li>
<li><p><strong>BNA_OSMNX_CACHE</strong>: Set it to 0 to disable the OSMNX cache.</p>
<p>This is useful when used in an ephemeral environment where there is no real
benefit of caching the downloads.</p>
</li>
</ul>
</section>
<section id="configure">
<h2>Configure<a class="headerlink" href="#configure" title="Link to this heading">¶</a></h2>
<p>Configure a database for an analysis.</p>
<p>Configure is a helper command, in the sense that it is completely optional to
the process, but may help to configure the PostgreSQL instance which will be
used for the analysis.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>configure<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>
</pre></div>
</div>
<section id="configure-docker">
<h3>configure docker<a class="headerlink" href="#configure-docker" title="Link to this heading">¶</a></h3>
<p>Configure a database running in a Docker container.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>configure<span class="w"> </span>docker<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p>The most common use case is to configure a PostgreSQL instance which is running
in a Docker container (via the Docker Compose file that we provide for example).</p>
<p>The command will autodetect the number of cores and the memory allocated to the
Docker daemon, and will use this information to set the values to use to
configure the PostgreSQL instance.</p>
<section id="options">
<h4>options<a class="headerlink" href="#options" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="configure-custom">
<h3>configure custom<a class="headerlink" href="#configure-custom" title="Link to this heading">¶</a></h3>
<p>Configure a database with custom values.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>configure<span class="w"> </span>custom<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>CORES<span class="w"> </span>MEMORY_MB<span class="w"> </span>PGUSER
</pre></div>
</div>
<p>If for some reason a more fine grained configuration is prefered, another
command is provided where the user has to specify the information manually.</p>
<p>The parameters are:</p>
<ul class="simple">
<li><p>the number of cores to allocate</p></li>
<li><p>the amount of memory to allocate, in MB</p></li>
<li><p>the name of the PostgreSQL user to connect as</p></li>
</ul>
</section>
<section id="configure-reset">
<h3>configure reset<a class="headerlink" href="#configure-reset" title="Link to this heading">¶</a></h3>
<p>The reset comand is a convenience command that resets the database. It deletes
tables associated with an analysis and recreates the necessary schema. Its main
use case is when developing/debugging locally and you need to try out another
analysis without having to swith to your host system and using Docker to
stop/remove the database associated with the previous analysis.</p>
<section id="id1">
<h4>options<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="configure-system">
<h3>configure system<a class="headerlink" href="#configure-system" title="Link to this heading">¶</a></h3>
<p>Configure the database system parameters.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>configure<span class="w"> </span>system<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>CORES<span class="w"> </span>MEMORY_MB
</pre></div>
</div>
<section id="id2">
<h4>options<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="configure-extensions">
<h3>configure extensions<a class="headerlink" href="#configure-extensions" title="Link to this heading">¶</a></h3>
<p>Configure the database extensions.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>configure<span class="w"> </span>extensions<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<section id="id3">
<h4>options<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="configure-schemas">
<h3>configure schemas<a class="headerlink" href="#configure-schemas" title="Link to this heading">¶</a></h3>
<p>Configure the database schemas.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>configure<span class="w"> </span>schemas<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>PGUSER
</pre></div>
</div>
<section id="id4">
<h4>options<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="prepare">
<h2>Prepare<a class="headerlink" href="#prepare" title="Link to this heading">¶</a></h2>
<p>Prepare all the input files required for an analysis.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>prepare<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>STATE<span class="o">]</span><span class="w"> </span><span class="o">[</span>FIPS_CODE<span class="o">]</span>
</pre></div>
</div>
<p>For US cities, the full name of the state as well as the city FIPS code are
required:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>prepare<span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span><span class="w"> </span><span class="m">3570670</span>
</pre></div>
</div>
<p>For non US cities, only the name and the country are required:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>prepare<span class="w"> </span>malta<span class="w"> </span>valletta
</pre></div>
</div>
<p>However, specifying a region can speed up the process since it will reduce the
size of the map to download. For instance this command will download the map of
the province of Québec in Canada. If <code class="docutils literal notranslate"><span class="pre">québec</span></code> was omitted, it would download the
map of the full country instead.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>prepare<span class="w"> </span>canada<span class="w"> </span><span class="s2">&quot;ancienne-lorette&quot;</span><span class="w"> </span>québec
</pre></div>
</div>
<p>For non US cities, the FIPS code is always ignored.</p>
<p>By default the files will be saved in their own sub-directory in the <code class="docutils literal notranslate"><span class="pre">./data</span></code>
directory, relative to where the command was executed. This can be changed with
the <code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> option flag.</p>
<p>For the 3 previous examples, the files will be located in:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>data
├──<span class="w"> </span>ancienne-lorette-quebec-canada
├──<span class="w"> </span>santa-rosa-new-mexico-united-states
└──<span class="w"> </span>valletta-malta
</pre></div>
</div>
<p>All of this should already be enough to gather the information required to
perform an analysis, but a few more knobs are available to override the default
values in the options.</p>
<section id="id5">
<h3>options<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--block-population</span></code> <em>block-population</em></p>
<ul>
<li><p>Population of a synthetic block for non-US cities.</p>
<p>Defaults to 100.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--block-size</span></code> <em>block-size</em></p>
<ul>
<li><p>Size of a synthetic block for non-US cities (in meters).</p>
<p>Defaults to 500.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code> <em>cache-dir</em></p>
<ul>
<li><p>Path to the custom cache directory.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">./data</span></code>.</p>
<p>When sets, it replaces the default user cache directory (platform specific,
see <a class="reference internal" href="#cache">bna cache dir</a>).</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--city-speed-limit</span></code> <em>city-speed-limit</em> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p></li>
<li><p>Override the default speed limit (in mph).</p>
<p>Defaults to 30.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<ul>
<li><p>Directory where to store the files required for the analysis.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">./data</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--lodes-year</span></code> <em>lodes-year</em> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<ul>
<li><p>Year to use to retrieve US job data.</p>
<p>Defaults to 2022.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--mirror</span></code> <em>mirror</em></p>
<ul>
<li><p>Use a mirror to fetch the US census files.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning it fetches the data from the US census sites.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-cache</span></code></p>
<ul>
<li><p>Disable the cache folder.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--mirror</span></code> <em>mirror</em></p>
<ul>
<li><p>Use a mirror to fetch the US census files.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning it fetches the data from the US census sites.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-cache</span></code></p>
<ul>
<li><p>Disable the cache folder.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--mirror</span></code> <em>mirror</em></p>
<ul>
<li><p>Use a mirror to fetch the US census files.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning it fetches the data from the US census sites.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-cache</span></code></p>
<ul>
<li><p>Disable the cache folder.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--mirror</span></code> <em>mirror</em></p>
<ul>
<li><p>Use a mirror to fetch the US census files.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning it fetches the data from the US census sites.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-cache</span></code></p>
<ul>
<li><p>Disable the cache folder.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--retries</span></code> <em>retries</em></p>
<ul>
<li><p>Number of times to retry downloading files.</p>
<p>Defaults to 2.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="import">
<h2>Import<a class="headerlink" href="#import" title="Link to this heading">¶</a></h2>
<p>Import files from the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command into the database.</p>
<p>The sub-command which is the most commonly used is <code class="docutils literal notranslate"><span class="pre">all</span></code>, but in case of
exploration, a particular type of import can be specified: <code class="docutils literal notranslate"><span class="pre">jobs</span></code>,
<code class="docutils literal notranslate"><span class="pre">neighborhood</span></code> and <code class="docutils literal notranslate"><span class="pre">osm</span></code>.</p>
<section id="import-all">
<h3>import all<a class="headerlink" href="#import-all" title="Link to this heading">¶</a></h3>
<p>Import all files into the database.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>import<span class="w"> </span>all<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>STATE<span class="o">]</span><span class="w"> </span><span class="o">[</span>FIPS_CODE<span class="o">]</span>
</pre></div>
</div>
<p>Same conditions as before, <code class="docutils literal notranslate"><span class="pre">country</span></code> and <code class="docutils literal notranslate"><span class="pre">city</span></code> arguments are mandatory, while
the <code class="docutils literal notranslate"><span class="pre">region</span></code> and the <code class="docutils literal notranslate"><span class="pre">FIPS</span></code> code are required only for US cities.</p>
<!-- prettier-ignore -->
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The same parameters as for the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command must be used to
guarantee correct results.</p>
</div>
<p>In addition to these parameters, the directory where the input files were stored
is also required and must be specified with the <code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> option flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>import<span class="w"> </span>all<span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span><span class="w"> </span><span class="m">3570670</span><span class="w"> </span>--data-dir<span class="w"> </span>data/santa-rosa-new-mexico-united-states
</pre></div>
</div>
<section id="id6">
<h4>options<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--buffer</span></code> <em>buffer</em></p>
<ul>
<li><p>Define the buffer area</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em></p>
<ul class="simple">
<li><p>Directory where the files to import are located.</p></li>
</ul>
<p>This is usually the output directory of the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul class="simple">
<li><p>Set the database URL</p></li>
</ul>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--lodes-year</span></code> <em>lodes-year</em></p>
<ul>
<li><p>Year to use to retrieve US job data.</p>
<p>Defaults to 2022</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="import-neighborhood">
<h3>import neighborhood<a class="headerlink" href="#import-neighborhood" title="Link to this heading">¶</a></h3>
<p>Import neighborhood data.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>import<span class="w"> </span>neighborhood<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>REGION<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="import-jobs">
<h3>import jobs<a class="headerlink" href="#import-jobs" title="Link to this heading">¶</a></h3>
<p>Import US census job data.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>import<span class="w"> </span><span class="nb">jobs</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>STATE_ABBREVIATION
</pre></div>
</div>
<section id="id7">
<h4>options<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--buffer</span></code> <em>buffer</em></p>
<ul>
<li><p>Define the buffer area</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em></p>
<ul>
<li><p>Directory where the files to import are located.</p>
<p>This is usually the output directory of the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="import-osm">
<h3>import osm<a class="headerlink" href="#import-osm" title="Link to this heading">¶</a></h3>
<p>Import OSM data.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>import<span class="w"> </span>osm<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>REGION<span class="o">]</span><span class="w"> </span><span class="o">[</span>FIPS_CODE<span class="o">]</span>
</pre></div>
</div>
<section id="id8">
<h4>options<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em></p>
<ul>
<li><p>Directory where the files to import are located.</p>
<p>This is usually the output directory of the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="compute">
<h2>Compute<a class="headerlink" href="#compute" title="Link to this heading">¶</a></h2>
<p>Compute the numbers.</p>
<p>This is the command which actually computes the scores and generates the geojson
files resulting from the analysis.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>compute<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>REGION<span class="o">]</span>
</pre></div>
</div>
<!-- prettier-ignore -->
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The same parameters as for the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command must be used to
guarantee correct results.</p>
</div>
<p>In addition to these parameters, the directory where the files were stored is
also required and must be specified with the <code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> option flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>compute<span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span><span class="w"> </span>--data-dir<span class="w"> </span>data/santa-rosa-new-mexico-united-states
</pre></div>
</div>
<p>Several parts are available for computing:</p>
<ul class="simple">
<li><p>features</p></li>
<li><p>stress</p></li>
<li><p>connectivity</p></li>
<li><p>measure</p></li>
</ul>
<p>It is possible to use only some parts for the analysis. In this case, the
<code class="docutils literal notranslate"><span class="pre">--with-parts</span></code> option can be used to specify which part to compute.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>compute<span class="w"> </span>--with-parts<span class="w"> </span>stress<span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span><span class="w"> </span>--data-dir<span class="w"> </span>data/santa-rosa-new-mexico-united-states
</pre></div>
</div>
<p>You can also specify multiple parts by repeating the <code class="docutils literal notranslate"><span class="pre">--with-parts</span></code> option:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>compute<span class="w"> </span>--with-parts<span class="w"> </span>stress<span class="w"> </span>--with-parts<span class="w"> </span>connectivity<span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span>
--data-dir<span class="w"> </span>data/santa-rosa-new-mexico-united-states
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">--with-parts</span></code> option is not specified, all the parts will be computed.</p>
<p>All the results will be stored in various tables in the database.</p>
<section id="id9">
<h3>options<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--buffer</span></code> <em>buffer</em></p>
<ul>
<li><p>Define the buffer area</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em></p>
<ul>
<li><p>Directory where the files to import are located.</p>
<p>This is usually the output directory of the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-parts</span></code> <em>parts</em></p>
<ul>
<li><p>Parts of the analysis to compute.</p>
<p>Valid values are: <code class="docutils literal notranslate"><span class="pre">features</span></code>, <code class="docutils literal notranslate"><span class="pre">stress</span></code>, <code class="docutils literal notranslate"><span class="pre">connectivity</span></code>, and <code class="docutils literal notranslate"><span class="pre">measure</span></code>. This
option can be repeated if multiple parts are needed.</p>
<p>Defaults to all the parts (features, stress, connectivity, measure).</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="export">
<h2>Export<a class="headerlink" href="#export" title="Link to this heading">¶</a></h2>
<p>Export the tables from the database.</p>
<p>Several exporters are available to export the results that where previously
computed.</p>
<p>The following files will be created from the PostgreSQL tables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
├──<span class="w"> </span>neighborhood_census_blocks.cpg
├──<span class="w"> </span>neighborhood_census_blocks.dbf
├──<span class="w"> </span>neighborhood_census_blocks.geojson
├──<span class="w"> </span>neighborhood_census_blocks.prj
├──<span class="w"> </span>neighborhood_census_blocks.shp
├──<span class="w"> </span>neighborhood_census_blocks.shx
├──<span class="w"> </span>neighborhood_colleges.geojson
├──<span class="w"> </span>neighborhood_community_centers.geojson
├──<span class="w"> </span>neighborhood_connected_census_blocks.csv
├──<span class="w"> </span>neighborhood_dentists.geojson
├──<span class="w"> </span>neighborhood_doctors.geojson
├──<span class="w"> </span>neighborhood_hospitals.geojson
├──<span class="w"> </span>neighborhood_overall_scores.csv
├──<span class="w"> </span>neighborhood_parks.geojson
├──<span class="w"> </span>neighborhood_pharmacies.geojson
├──<span class="w"> </span>neighborhood_retail.geojson
├──<span class="w"> </span>neighborhood_schools.geojson
├──<span class="w"> </span>neighborhood_score_inputs.csv
├──<span class="w"> </span>neighborhood_social_services.geojson
├──<span class="w"> </span>neighborhood_supermarkets.geojson
├──<span class="w"> </span>neighborhood_transit.geojson
├──<span class="w"> </span>neighborhood_universities.geojson
├──<span class="w"> </span>neighborhood_ways.cpg
├──<span class="w"> </span>neighborhood_ways.dbf
├──<span class="w"> </span>neighborhood_ways.prj
├──<span class="w"> </span>neighborhood_ways.shp
├──<span class="w"> </span>neighborhood_ways.shx
└──<span class="w"> </span>residential_speed_limit.csv
</pre></div>
</div>
<section id="export-local">
<h3>export local<a class="headerlink" href="#export-local" title="Link to this heading">¶</a></h3>
<p>Export the results to a local directory following the PeopleForBikes <a class="reference external" href="https://calver.org">calver</a>
convention.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>REGION<span class="o">]</span><span class="w"> </span><span class="o">[</span>EXPORT_DIR<span class="o">]</span>
</pre></div>
</div>
<p>The final directory structure follows the PeopleForBikes convention
<code class="docutils literal notranslate"><span class="pre">&lt;export_dir&gt;/&lt;country&gt;/&lt;region&gt;/&lt;city&gt;/&lt;calver_version&gt;</span></code>.</p>
<p>The directories will be created if they do not exist.</p>
<p>The calver <a class="reference external" href="https://calver.org/#scheme">scheme</a> used here is <code class="docutils literal notranslate"><span class="pre">YY.0M[.MINOR]</span></code>,
similar to what <a class="reference external" href="https://en.wikipedia.org/wiki/Ubuntu_version_history">Ubuntu</a>
does.</p>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h4>
<p>Running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span><span class="w"> </span>~/bna/
</pre></div>
</div>
<p>Would export the results into <code class="docutils literal notranslate"><span class="pre">~/bna/united</span> <span class="pre">states/new</span> <span class="pre">mexico/santa</span> <span class="pre">rosa/25.06</span></code>
if the analysis was run in June 2025 for the first time.</p>
</section>
<section id="id10">
<h4>options<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-bundle</span></code></p>
<ul>
<li><p>Add a zip archive which bundles the result files altogether.</p>
<p>Defaults to no bundle.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="export-local-custom">
<h3>export local-custom<a class="headerlink" href="#export-local-custom" title="Link to this heading">¶</a></h3>
<p>Export results to a custom directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span><span class="nb">export</span><span class="w"> </span>local-custom<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>EXPORT_DIR
</pre></div>
</div>
<section id="id11">
<h4>options<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-bundle</span></code></p>
<ul>
<li><p>Add a zip archive which bundles the result files altogether.</p>
<p>Defaults to no bundle.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="s3">
<h3>S3<a class="headerlink" href="#s3" title="Link to this heading">¶</a></h3>
<p>Export the result to an AWS S3 bucket, respecting the calver representation.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span><span class="nb">export</span><span class="w"> </span>s3<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>BUCKET_NAME<span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>REGION<span class="o">]</span>
</pre></div>
</div>
<p>Therefore the output is similar to the <code class="docutils literal notranslate"><span class="pre">local</span></code> export:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>my_s3_bucket
└──<span class="w"> </span>united<span class="w"> </span>states
<span class="w">    </span>└──<span class="w"> </span>new<span class="w"> </span>mexico
<span class="w">        </span>└──<span class="w"> </span>santa<span class="w"> </span>rosa
<span class="w">            </span>└──<span class="w"> </span><span class="m">23</span>.9
<span class="w">              </span>└──<span class="w"> </span>...
</pre></div>
</div>
<section id="id12">
<h4>options<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-bundle</span></code></p>
<ul>
<li><p>Add a zip archive which bundles the result files altogether.</p>
<p>Defaults to no bundle.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="s3-custom">
<h3>S3 Custom<a class="headerlink" href="#s3-custom" title="Link to this heading">¶</a></h3>
<p>Export the results to a custom AWS S3 bucket.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span><span class="nb">export</span><span class="w"> </span>s3-custom<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>BUCKET_NAME
</pre></div>
</div>
<p>And the output could look like that:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>my_s3_bucket
└──<span class="w"> </span>united-states-new<span class="w"> </span>mexico-santa<span class="w"> </span>rosa-23.9
<span class="w">  </span>└──<span class="w"> </span>...
</pre></div>
</div>
<section id="id13">
<h4>options<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul class="simple">
<li><p>Set the database URL</p></li>
</ul>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--s3-dir</span></code> <em>s3-dir</em></p>
<ul>
<li><p>Directory where to store the results within the S3 bucket.</p>
<p>Defaults to the root of the bucket.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-bundle</span></code></p>
<ul>
<li><p>Add a zip archive which bundles the result files altogether.</p>
<p>Defaults to no bundle.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="run">
<h2>Run<a class="headerlink" href="#run" title="Link to this heading">¶</a></h2>
<p>Run the full analysis in one command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>run<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>STATE<span class="o">]</span><span class="w"> </span><span class="o">[</span>FIPS_CODE<span class="o">]</span>
</pre></div>
</div>
<p>Basically this command is a combination of the <code class="docutils literal notranslate"><span class="pre">prepare</span></code>, <code class="docutils literal notranslate"><span class="pre">import</span></code>, <code class="docutils literal notranslate"><span class="pre">compute</span></code>
and <code class="docutils literal notranslate"><span class="pre">export</span></code> sub-commands.</p>
<p>It still requires a configured, up and running database in order to complete.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;united states&quot;</span><span class="w"> </span><span class="s2">&quot;santa rosa&quot;</span><span class="w"> </span><span class="s2">&quot;new mexico&quot;</span><span class="w"> </span><span class="m">3570670</span>
</pre></div>
</div>
<section id="id14">
<h3>options<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--block-population</span></code> <em>block-population</em></p>
<ul>
<li><p>Population of a synthetic block for non-US cities.</p>
<p>Defaults to 100.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--block-size</span></code> <em>block-size</em></p>
<ul>
<li><p>Size of a synthetic block for non-US cities (in meters).</p>
<p>Defaults to 500.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--buffer</span></code> <em>buffer</em></p>
<ul>
<li><p>Define the buffer area</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code> <em>cache-dir</em></p>
<ul>
<li><p>Path to the custom cache directory.</p>
<p>When sets, it replaces the default user cache directory (platform specific,
see <a class="reference internal" href="#cache">bna cache dir</a>).</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--city-speed-limit</span></code> <em>city-speed-limit</em> &lt;</p>
<ul>
<li><p>Override the default speed limit (in mph).</p>
<p>Defaults to 30.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em></p>
<ul>
<li><p>Directory where to store the files required for the analysis.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">./data</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--lodes-year</span></code> <em>lodes-year</em> &lt;</p>
<ul>
<li><p>Year to use to retrieve US job data.</p>
<p>Defaults to 2022.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--max-trip-distance</span></code> <em>max-trip-distance</em></p>
<ul>
<li><p>Distance maximal of a trip.</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--mirror</span></code> <em>mirror</em></p>
<ul>
<li><p>Use a mirror to fetch the US census files.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning it fetches the data from the US census sites.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-cache</span></code></p>
<ul>
<li><p>Disable the cache folder.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--retries</span></code> <em>retries</em></p>
<ul>
<li><p>Number of times to retry downloading files.</p>
<p>Defaults to 2.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--s3-bucket</span></code> <em>s3-bucket</em> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<ul class="simple">
<li><p>S3 bucket to use to store the result files.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--s3-dir</span></code> <em>s3-dir</em></p>
<ul>
<li><p>Directory where to store the results within the S3 bucket.</p>
<p>Defaults to the root of the bucket.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-bundle</span></code></p>
<ul>
<li><p>Add a zip archive which bundles the result files altogether.</p>
<p>Defaults to no bundle.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-export</span></code> <em>with-export</em></p>
<ul>
<li><p>Export strategy</p>
<p>Valid values are: <code class="docutils literal notranslate"><span class="pre">none</span></code> <code class="docutils literal notranslate"><span class="pre">local</span></code> <code class="docutils literal notranslate"><span class="pre">s3</span></code> <code class="docutils literal notranslate"><span class="pre">s3_custom</span></code>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">local</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-parts</span></code> <em>parts</em></p>
<ul>
<li><p>Parts of the analysis to compute.</p>
<p>Valid values are: <code class="docutils literal notranslate"><span class="pre">features</span></code>, <code class="docutils literal notranslate"><span class="pre">stress</span></code>, <code class="docutils literal notranslate"><span class="pre">connectivity</span></code>, and <code class="docutils literal notranslate"><span class="pre">measure</span></code>. This
option can be repeated if multiple parts are needed.</p>
<p>Defaults to all the parts (features, stress, connectivity, measure).</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="run-with">
<h2>Run-with<a class="headerlink" href="#run-with" title="Link to this heading">¶</a></h2>
<p>Provide alternative ways to run the analysis.</p>
<section id="compose">
<h3>Compose<a class="headerlink" href="#compose" title="Link to this heading">¶</a></h3>
<p>Manage the Docker Compose environment automatically.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>run-with<span class="w"> </span>compose<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COUNTRY<span class="w"> </span>CITY<span class="w"> </span><span class="o">[</span>STATE<span class="o">]</span><span class="w"> </span><span class="o">[</span>FIPS_CODE<span class="o">]</span>
</pre></div>
</div>
<p>It combines the <code class="docutils literal notranslate"><span class="pre">configure</span></code>, <code class="docutils literal notranslate"><span class="pre">prepare</span></code>, <code class="docutils literal notranslate"><span class="pre">import</span></code>, <code class="docutils literal notranslate"><span class="pre">compute</span></code>, <code class="docutils literal notranslate"><span class="pre">export</span></code>
sub-commands and wraps them into the setup and tear-down of the Docker Compose
environment.</p>
<section id="id15">
<h4>options<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--block-population</span></code> <em>block-population</em> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<ul>
<li><p>Population of a synthetic block for non-US cities.</p>
<p>Defaults to 100.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--block-size</span></code> <em>block-size</em></p>
<ul>
<li><p>Size of a synthetic block for non-US cities (in meters).</p>
<p>Defaults to 500.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--buffer</span></code> <em>buffer</em></p>
<ul>
<li><p>Define the buffer area</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code> <em>cache-dir</em></p>
<ul>
<li><p>Path to the custom cache directory.</p>
<p>When sets, it replaces the default user cache directory (platform specific,
see <a class="reference internal" href="#cache">bna cache dir</a>).</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--city-speed-limit</span></code> <em>city-speed-limit</em></p>
<ul>
<li><p>Override the default speed limit (in mph).</p>
<p>Defaults to 30.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--data-dir</span></code> <em>data-dir</em></p>
<ul>
<li><p>Directory where to store the files required for the analysis.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">./data</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--database-url</span></code> <em>database-url</em></p>
<ul>
<li><p>Set the database URL</p>
<p>May also be set with the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--export-dir</span></code> <em>export-dir</em></p>
<ul>
<li><p>Directory where to export the results.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">./results</span></code></p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--lodes-year</span></code> <em>lodes-year</em></p>
<ul>
<li><p>Year to use to retrieve US job data.</p>
<p>Defaults to 2022.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--max-trip-distance</span></code> <em>max-trip-distance</em></p>
<ul>
<li><p>Distance maximal of a trip.</p>
<p>Defaults to 2680.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--mirror</span></code> <em>mirror</em></p>
<ul>
<li><p>Use a mirror to fetch the US census files.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning it fetches the data from the US census sites.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-cache</span></code></p>
<ul>
<li><p>Disable the cache folder.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--retries</span></code> <em>retries</em></p>
<ul>
<li><p>Number of times to retry downloading files.</p>
<p>Defaults to 2.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--s3-bucket</span></code> <em>s3-bucket</em></p>
<ul class="simple">
<li><p>S3 bucket to use to store the result files.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--s3-dir</span></code> <em>s3-dir</em></p>
<ul>
<li><p>Directory where to store the results within the S3 bucket.</p>
<p>Defaults to the root of the bucket.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-bundle</span></code></p>
<ul>
<li><p>Add a zip archive which bundles the result files altogether.</p>
<p>Defaults to no bundle.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-export</span></code> <em>with-export</em></p>
<ul>
<li><p>Export strategy</p>
<p>Valid values are: <code class="docutils literal notranslate"><span class="pre">none</span></code> <code class="docutils literal notranslate"><span class="pre">local</span></code> <code class="docutils literal notranslate"><span class="pre">s3</span></code> <code class="docutils literal notranslate"><span class="pre">s3_custom</span></code>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">local</span></code>.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--with-parts</span></code> <em>parts</em></p>
<ul>
<li><p>Parts of the analysis to compute.</p>
<p>Valid values are: <code class="docutils literal notranslate"><span class="pre">features</span></code>, <code class="docutils literal notranslate"><span class="pre">stress</span></code>, <code class="docutils literal notranslate"><span class="pre">connectivity</span></code>, and <code class="docutils literal notranslate"><span class="pre">measure</span></code>. This
option can be repeated if multiple parts are needed.</p>
<p>Defaults to all the parts (features, stress, connectivity, measure).</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="cache">
<h2>Cache<a class="headerlink" href="#cache" title="Link to this heading">¶</a></h2>
<p>Manage the cache.</p>
<section id="clean">
<h3>clean<a class="headerlink" href="#clean" title="Link to this heading">¶</a></h3>
<p>Clean the cache directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>cache<span class="w"> </span>clean<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<section id="id16">
<h4>options<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--dry-run</span></code>, <code class="docutils literal notranslate"><span class="pre">-n</span></code></p>
<ul>
<li><p>Dry run.</p>
<p>Does not actually perform any action, but show the simulated results.</p>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--quiet</span></code>, <code class="docutils literal notranslate"><span class="pre">-q</span></code></p>
<ul>
<li><p>Quiet mode.</p>
<p>Does not display any information on the output.</p>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="dir">
<h3>dir<a class="headerlink" href="#dir" title="Link to this heading">¶</a></h3>
<p>Show the cache directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bna<span class="w"> </span>cache<span class="w"> </span>dir<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="regions.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Regions</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="how-to/analyze-bike-infrastructure.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">How to analyze bicycle infrastructure</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, PeopleForBikes
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/PeopleForBikes/brokenspoke-analyzer" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Commands</a><ul>
<li><a class="reference internal" href="#general-information">General information</a></li>
<li><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li><a class="reference internal" href="#configure">Configure</a><ul>
<li><a class="reference internal" href="#configure-docker">configure docker</a><ul>
<li><a class="reference internal" href="#options">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-custom">configure custom</a></li>
<li><a class="reference internal" href="#configure-reset">configure reset</a><ul>
<li><a class="reference internal" href="#id1">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-system">configure system</a><ul>
<li><a class="reference internal" href="#id2">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-extensions">configure extensions</a><ul>
<li><a class="reference internal" href="#id3">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-schemas">configure schemas</a><ul>
<li><a class="reference internal" href="#id4">options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#prepare">Prepare</a><ul>
<li><a class="reference internal" href="#id5">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#import">Import</a><ul>
<li><a class="reference internal" href="#import-all">import all</a><ul>
<li><a class="reference internal" href="#id6">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#import-neighborhood">import neighborhood</a></li>
<li><a class="reference internal" href="#import-jobs">import jobs</a><ul>
<li><a class="reference internal" href="#id7">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#import-osm">import osm</a><ul>
<li><a class="reference internal" href="#id8">options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#compute">Compute</a><ul>
<li><a class="reference internal" href="#id9">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#export">Export</a><ul>
<li><a class="reference internal" href="#export-local">export local</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#id10">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#export-local-custom">export local-custom</a><ul>
<li><a class="reference internal" href="#id11">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#s3">S3</a><ul>
<li><a class="reference internal" href="#id12">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#s3-custom">S3 Custom</a><ul>
<li><a class="reference internal" href="#id13">options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#run">Run</a><ul>
<li><a class="reference internal" href="#id14">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-with">Run-with</a><ul>
<li><a class="reference internal" href="#compose">Compose</a><ul>
<li><a class="reference internal" href="#id15">options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#cache">Cache</a><ul>
<li><a class="reference internal" href="#clean">clean</a><ul>
<li><a class="reference internal" href="#id16">options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dir">dir</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=acc74ff5"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>